<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Mystery0の小站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="要么做第一个，要么做最好的一个。">
<meta property="og:type" content="website">
<meta property="og:title" content="Mystery0の小站">
<meta property="og:url" content="http://imystery0.cn/index.html">
<meta property="og:site_name" content="Mystery0の小站">
<meta property="og:description" content="要么做第一个，要么做最好的一个。">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mystery0の小站">
<meta name="twitter:description" content="要么做第一个，要么做最好的一个。">
  
    <link rel="alternate" href="/atom.xml" title="Mystery0の小站" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Mystery0の小站</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">mystery0dyl520@gmail.com</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://imystery0.cn"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-WebView搭配Material Design新控件使用" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/25/WebView搭配Material Design新控件使用/" class="article-date">
  <time datetime="2017-02-25T09:30:13.808Z" itemprop="datePublished">2017-02-25</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/25/WebView搭配Material Design新控件使用/">WebView搭配Material Design新控件使用</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h2><p>这两天在帮同学的网站写客户端，要求的功能是点击菜单中的某一项显示一个网页，之前的一个客户端是直接调用Intent跳转默认浏览器来进行访问。这次想做成在应用中访问的，也就是使用<code>WebView</code>来显示，虽然学了安卓快一年了，却从来没有写过<code>WebView</code>，过程中遇到了一些问题，故此记录。</p>
<hr>
<h2 id="效果展示"><a href="#效果展示" class="headerlink" title="效果展示"></a>效果展示</h2><p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/up_down.gif" alt=""></p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/back_forward.gif" alt=""></p>
<p>正如gif所示，WebView往下滑隐藏Toolbar，往上滑显示Toolbar，往左滑后退，往右滑前进。</p>
<hr>
<h2 id="WebView下滑隐藏ToolBar，上滑显示ToolBar"><a href="#WebView下滑隐藏ToolBar，上滑显示ToolBar" class="headerlink" title="WebView下滑隐藏ToolBar，上滑显示ToolBar"></a>WebView下滑隐藏ToolBar，上滑显示ToolBar</h2><p>使用了<code>Matarial Disign</code>的小伙伴应该很清楚，Google提供了<code>CoordinatorLayout</code>来使控件能够响应滚动事件，比如说当滚动<code>RecyclerView</code>的时候，只需要几行代码就能够让<code>ToolBar</code>跟随着滚动，并且非常流畅，所以我打算的就是通过<code>CoordinatorLayout</code>来实现这个效果。<br>我google了一些博客，有些人是通过重写<code>WebView</code>的<code>onScrollChanged</code>方法来实现，这样的话虽然可以进行很强的自定义，但是我觉得却太复杂了，对于我的这个应用来说，需要实现的功能很简单，不用这么复杂。</p>
<h3 id="导包我想各位应该都清楚的，所以我就不说版本了"><a href="#导包我想各位应该都清楚的，所以我就不说版本了" class="headerlink" title="导包我想各位应该都清楚的，所以我就不说版本了"></a>导包我想各位应该都清楚的，所以我就不说版本了</h3><h3 id="布局代码如下"><a href="#布局代码如下" class="headerlink" title="布局代码如下"></a>布局代码如下</h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">android.support.design.widget.CoordinatorLayout</span></span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></div><div class="line">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:fitsSystemWindows</span>=<span class="string">"true"</span></div><div class="line">    <span class="attr">tools:context</span>=<span class="string">"com.weily.mutour.activity.WebActivity"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">android.support.design.widget.AppBarLayout</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/app_bar"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"wrap_content"</span></div><div class="line">        <span class="attr">android:theme</span>=<span class="string">"@style/AppTheme.AppBarOverlay"</span>&gt;</div><div class="line"></div><div class="line">        <span class="tag">&lt;<span class="name">android.support.v7.widget.Toolbar</span></span></div><div class="line">            <span class="attr">android:id</span>=<span class="string">"@+id/toolbar"</span></div><div class="line">            <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">            <span class="attr">android:layout_height</span>=<span class="string">"?attr/actionBarSize"</span></div><div class="line">            <span class="attr">android:background</span>=<span class="string">"?attr/colorPrimary"</span></div><div class="line">            <span class="attr">app:layout_scrollFlags</span>=<span class="string">"scroll|enterAlways"</span></div><div class="line">            <span class="attr">app:popupTheme</span>=<span class="string">"@style/AppTheme.PopupOverlay"</span>/&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;/<span class="name">android.support.design.widget.AppBarLayout</span>&gt;</span></div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">include</span> <span class="attr">layout</span>=<span class="string">"@layout/content_web"</span>/&gt;</span></div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">android.support.design.widget.CoordinatorLayout</span>&gt;</span></div></pre></td></tr></table></figure>
<p>这个代码各位应该非常眼熟，如果用的是<code>Android Studio</code>，同时新建Activity的时候选择<code>Basic Activity</code>，会自动新建<code>activity_xxx.xml</code>以及<code>content_xxx.xml</code>，而这就是activity的那个文件的源码，注意源码中相比较于默认的源码，我在ToolBar的标签那里添加了一个<code>app:layoutscrollFlags</code>属性。各位如果清楚<code>CoordinatorLayout</code>的应该都知道是什么意思，所以在这里我就不多说了，如果不懂的话可以参考<a href="http://www.jianshu.com/p/c6a6d08f4a2b" title="这篇博客" target="_blank" rel="external">这篇博客</a>。<br>接下来是<code>content</code>的源码：<br><figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;?xml version="1.0" encoding="utf-8"?&gt;</div><div class="line"><span class="tag">&lt;<span class="name">android.support.v4.widget.NestedScrollView</span></span></div><div class="line">    <span class="attr">xmlns:android</span>=<span class="string">"http://schemas.android.com/apk/res/android"</span></div><div class="line">    <span class="attr">xmlns:app</span>=<span class="string">"http://schemas.android.com/apk/res-auto"</span></div><div class="line">    <span class="attr">xmlns:tools</span>=<span class="string">"http://schemas.android.com/tools"</span></div><div class="line">    <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span></div><div class="line">    <span class="attr">app:layout_behavior</span>=<span class="string">"@string/appbar_scrolling_view_behavior"</span></div><div class="line">    <span class="attr">tools:context</span>=<span class="string">"com.weily.mutour.activity.WebActivity"</span></div><div class="line">    <span class="attr">tools:showIn</span>=<span class="string">"@layout/activity_web"</span>&gt;</div><div class="line"></div><div class="line">    <span class="tag">&lt;<span class="name">WebView</span></span></div><div class="line">        <span class="attr">android:id</span>=<span class="string">"@+id/web"</span></div><div class="line">        <span class="attr">android:layout_width</span>=<span class="string">"match_parent"</span></div><div class="line">        <span class="attr">android:layout_height</span>=<span class="string">"match_parent"</span>/&gt;</div><div class="line"></div><div class="line"><span class="tag">&lt;/<span class="name">android.support.v4.widget.NestedScrollView</span>&gt;</span></div></pre></td></tr></table></figure></p>
<p>前几天我在研究为什么SnackBar没有动画效果的时候（具体可参考<a href="http://www.imystery0.cn/2017/02/24/%E8%A7%A3%E5%86%B3SnackBar%E6%97%A0%E5%8A%A8%E7%94%BB%E7%8E%B0%E8%B1%A1/" title="我的上一篇博客" target="_blank" rel="external">我的上一篇博客</a>），也顺便纠结了一下为什么我写的登陆界面不能在弹出键盘的时候自动伸缩，没有特意去找原因，猜测应该是布局中的控件的原因，同样的属性，同样的父布局，但是子布局中有RecyclerView的时候就能够自动伸缩，登陆界面没有RecyclerView，同时也没有其他的可伸缩的布局（比如NestedScrollView，ListView等），或许是因为这个原因。<br>这个方法的来源是这篇博客：<a href="http://blog.csdn.net/y1258429182/article/details/51172546" title="Toolbar在WebView滚动下的显示和隐藏的实现" target="_blank" rel="external">Toolbar在WebView滚动下的显示和隐藏的实现</a><br>而这篇博客中的代码将<code>WebView</code>放在了<code>LinearLayout</code>中，<code>LinearLayout</code>的父布局是v4包中<code>AppBarLayout</code>，如果在IDE中直接添加这个控件不会报错，但是会报一个警告。</p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_25_001.png" alt=""></p>
<p>看起来是因为这个控件的原因，博客的评论中也提到这个包找不到。<br>同时评论中有人提到将<code>AppBarLayout</code>换成<code>NestedScrollView</code>就行了，然后删掉<code>LinearLayout</code>。<br>当然，这也是我的处理办法。<br>写完之后就能够在滑动WebView的时候实现ToolBar下滑隐藏，上滑显示的效果了。</p>
<hr>
<h2 id="WebView右滑后退，左滑前进"><a href="#WebView右滑后退，左滑前进" class="headerlink" title="WebView右滑后退，左滑前进"></a>WebView右滑后退，左滑前进</h2><p>本来上面的代码就能够满足要求了，但是我在调试的时候发现一个问题，由于我调试嵌套的并不是一个单独的网页，网页中还有其他的链接，点击也能够正常跳转，但是却存在无法后退的问题，或许是没有找到。<br>为了解决这个问题，我首先想到的方法是使用手势。<br>经常我们在使用一些常用app的时候，能够通过手势执行一些快速操作，比如说Telegram在聊天界面往右滑会有一个动画效果，同时界面回到聊天列表。<br>所以说手势的使用还是挺普遍的。</p>
<h3 id="监听WebView触摸事件"><a href="#监听WebView触摸事件" class="headerlink" title="监听WebView触摸事件"></a>监听WebView触摸事件</h3><p>看到这个标题，我想一定能很快写出监听的代码<br><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">onTouchEvent</span><span class="params">(MotionEvent event)</span></span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">switch</span> (event.getAction())</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">case</span> MotionEvent.ACTION_DOWN:</div><div class="line">                start = event.getX();</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            <span class="keyword">case</span> MotionEvent.ACTION_UP:</div><div class="line">                <span class="keyword">float</span> end = event.getX();</div><div class="line">                <span class="keyword">float</span> distance = end - start;</div><div class="line">                <span class="keyword">if</span> (distance &gt; <span class="number">400</span>)</div><div class="line">                &#123;</div><div class="line">                    webView.goBack();</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (distance &lt; -<span class="number">400</span>)</div><div class="line">                &#123;</div><div class="line">                    webView.goForward();</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">super</span>.onTouchEvent(event);</div><div class="line">    &#125;</div></pre></td></tr></table></figure></p>
<p>完全正确的代码，但我调试的时候却发现了问题，无论我怎么滑动都没有反应，然后我使用log发现这个方法根本没有执行，所以无效。<br>google了一下原因，得到这么一个答案：</p>
<pre><code>一般我们用于接收GestureDetector对象的方法是OnTouchevent();,而在View组件占用了屏幕空间之后，这个方法就无效了，只有换成 dispatchTouchEvent方法才有效！
</code></pre><p>原文链接：<a href="https://my.oschina.net/eoeandroid/blog/167263" title="Webview中无法触发手势方法（ontouchevent,onfling...)的解决方法" target="_blank" rel="external">Webview中无法触发手势方法（ontouchevent,onfling…)的解决方法</a><br>于是将<code>onTouchEvent</code>换成<code>dispatchTouchEvent</code>，完美解决。</p>
<hr>
<h2 id="说在后面"><a href="#说在后面" class="headerlink" title="说在后面"></a>说在后面</h2><p>这两天我算是真正体会到了Google的强大，比如说上一篇博客中的SnackBar没有动画，我使用google直接搜索“SnackBar 无动画”，并没有什么有价值的文章，甚至完全没有一个像我一样的问题，然后试着使用英语搜索“snackbar no animation”，才找到大量的解决方法。至于百度嘛，我用中文还是英语，搜索出来的结果并没有什么区别，当然，也和我用中文google差不多的样子。</p>
<hr>
<h2 id="参考列表"><a href="#参考列表" class="headerlink" title="参考列表"></a>参考列表</h2><p><a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2015/0716/3192.html" title="如何监听webview的滚动事件" target="_blank" rel="external">如何监听webview的滚动事件</a><br><a href="http://blog.csdn.net/encienqi/article/details/8033182" title="Android WebView的前进、后退、与刷新" target="_blank" rel="external">Android WebView的前进、后退、与刷新</a><br><a href="https://my.oschina.net/eoeandroid/blog/167263" title="Webview中无法触发手势方法（ontouchevent,onfling...)的解决方法" target="_blank" rel="external">Webview中无法触发手势方法（ontouchevent,onfling…)的解决方法</a><br><a href="http://blog.csdn.net/y1258429182/article/details/51172546" title=" Toolbar在WebView滚动下的显示和隐藏的实现" target="_blank" rel="external"> Toolbar在WebView滚动下的显示和隐藏的实现</a><br><a href="http://www.jianshu.com/p/c6a6d08f4a2b" title="可折叠的Toolbar—CollapsingToolbarLayout" target="_blank" rel="external">可折叠的Toolbar—CollapsingToolbarLayout</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/02/25/WebView搭配Material Design新控件使用/" data-id="cizl4kwvm000e44nt1g5wvoar" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/02/25/WebView搭配Material Design新控件使用/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-解决SnackBar无动画现象" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/24/解决SnackBar无动画现象/" class="article-date">
  <time datetime="2017-02-24T09:01:32.732Z" itemprop="datePublished">2017-02-24</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/24/解决SnackBar无动画现象/">解决SnackBar无动画现象</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="发现问题"><a href="#发现问题" class="headerlink" title="发现问题"></a>发现问题</h2><p>突然间不知道从什么时候开始，手机上的app只要是调用了SnackBar的地方，SnackBar显示都没有效果，这两天突然开始察觉到这个问题了，开始各种google，但是都没有找到直接让SnackBar没有动画的结果（中文），甚至我还以为是SnackBar的源码改了。<br>但是又觉得不对，google的这个SnackBar新控件非常不错，不应该把动画去掉啊。<br>为此，我特意将design包的版本回退到22.2.0版本，依旧是没有动画。<br>这里开始我就觉得不对了，google不可能去掉并且旧版本依旧没有动画，那么应该是我的配置上的问题。<br>想到这里，我开始去查看CoordinatorLayout的用法，但是依旧没有任何卵用。</p>
<h2 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h2><p>突然间我想到了一个问题，会不会是国内还没有察觉到这个问题，但是国外有了呢，我是不相信全世界就我一个人有这个问题的。<br>抱着试一试的态度，我开始google snackbar no animation，果不其然，找到了许多和我相同的问题。</p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_24_001.png" alt=""><br>简单的查看了一下，有的人说是开发者选项中的动画缩放（？）的问题，但是我试了依旧错误，继续看才看到一个回答是辅助功能导致的。</p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_24_002.png" alt=""><br>查看我手机上的辅助功能选项，发现打开了一个服务——冰箱的后台服务。</p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/Screenshot_20170224-165108.png" alt=""><br>将这个服务关闭之后，再次打开应用，SnackBar的动画显示出来了。</p>
<h2 id="说在后面"><a href="#说在后面" class="headerlink" title="说在后面"></a>说在后面</h2><p>继续查看了这个问题，但是没有看出什么来，只是提供了一个方法，使用<code>AccessibilityManager.isEnabled()</code>来判断辅助功能是否开启，但是我在代码中添加提示错误，<code>AccessibilityManager</code>是一个final类，这个类中使用了单例模式，一个<code>static</code>方法返回实例，但是我在调用这个静态方法的时候报错，提示找不到这个方法，查看源码<code>AccessibilityManager</code>类是公有的，静态方法也是公有的，但是报错，不知道为什么，如果有人知道为什么的请告诉我。<br>截图：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_24_003.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_24_004.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_24_005.png" alt=""></p>
<p><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017_02_24_006.png" alt=""></p>
<h2 id="参考列表"><a href="#参考列表" class="headerlink" title="参考列表"></a>参考列表</h2><p><a href="http://stackoverflow.com/questions/37728136/snackbar-appear-animation" title="java - SnackBar appear animation - Stack Overflow" target="_blank" rel="external">java - SnackBar appear animation - Stack Overflow</a><br><a href="https://code.google.com/p/android/issues/detail?id=206416" title="Issue 206416:    Snackbar no longer slides onto screen" target="_blank" rel="external">Issue 206416:    Snackbar no longer slides onto screen</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/02/24/解决SnackBar无动画现象/" data-id="cizl4kww0000n44ntfzqiro3o" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/02/24/解决SnackBar无动画现象/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/18/斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑/" class="article-date">
  <time datetime="2017-02-18T10:54:01.000Z" itemprop="datePublished">2017-02-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Linux-路由器/">Linux 路由器</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/18/斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑/">斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a>说在前面</h2><p>前段时间从京东上撸了一个K2，正好是0元购的活动，所以就弄了一个，今天下午就开始折腾路由器。<a href="https://item.jd.com/2615810.html" title="京东链接" target="_blank" rel="external">京东链接</a><br>从第一个教程中我知道为什么这么多买这个路由器的人要刷机了，据说原因是因为官方固件存在后门，会自动将用户的浏览记录上传，所以推荐用户将斐讯路由器刷成其他的第三方固件。（<a href="http://bbs.mydigit.cn/read.php?tid=1572590" title="具体链接" target="_blank" rel="external">具体链接</a>）</p>
<h2 id="错误的认为"><a href="#错误的认为" class="headerlink" title="错误的认为"></a>错误的认为</h2><p>由于从来没有玩过这个，所以我一直以为路由器刷机应该不难，然而事实是确实不难，只是需要找对教程。我找的第一个教程（<a href="http://soundrain.net/2016/04/25/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%88%B7openwrt%E5%AE%9E%E8%B7%B5%E6%95%99%E7%A8%8B/" title="链接" target="_blank" rel="external">链接</a>）是2016年4月份，也是从这个教程我知道了官方固件的问题，更加坚定了我刷机的决心。但是技术的更新换代也实在是太快了，由于这篇教程没有写明适用的版本，所以我错误的认为了这个是通用的教程（大错特错）。所以第一步<code>开启telnet</code>就得到了错误：非法的配置文件。然后我才意识到版本的更新以及厂商的封堵。</p>
<h2 id="寻找正确的教程"><a href="#寻找正确的教程" class="headerlink" title="寻找正确的教程"></a>寻找正确的教程</h2><p>意识到犯的错误之后，我开始关注路由器的版本以及教程的适用版本以及帖子发布时间。<br>不负众望，我找到了一个很新的帖子（由于我的路由器固件版本是<code>22.4.6.3</code>，所以我关注的都是<code>22.4.6.3</code>的帖子），新到发布时间是今天的凌晨（不敢相信，后来我才知道这是转载的，原帖发布时间是：2016-12-20）。<br>由于新帖踩得坑并不多，所以我在这里贴上原帖地址：<a href="http://www.right.com.cn/forum/thread-204435-1-1.html" title="斐讯K2 22.4.6.3 非telnet 页面直刷 Breed 详细方法（图文）" target="_blank" rel="external">斐讯K2 22.4.6.3 非telnet 页面直刷 Breed 详细方法（图文）</a><br>强烈推荐帖子中的一个用户的视频操作：（swf文件，可直接用chrome打开）原链接<a href="http://pan.baidu.com/s/1dE8p0g5" title="http://pan.baidu.com/s/1dE8p0g5" target="_blank" rel="external">http://pan.baidu.com/s/1dE8p0g5</a> 密码：<code>cptx</code><br>如果和我一样不喜欢百度云的可以通过我提供的<a href="https://1drv.ms/u/s!AuAoQHzZulMsrgUpjih2ua0SRxmp" title="onedrive链接" target="_blank" rel="external">onedrive链接</a>以及<a href="https://drive.google.com/file/d/0B5eE8ni1SrKBaTREUjV0SFlESmM/view?usp=sharing" title="google drive链接" target="_blank" rel="external">google drive链接</a>下载观看。</p>
<h2 id="教程开始"><a href="#教程开始" class="headerlink" title="教程开始"></a>教程开始</h2><p>由于我也没试过其他的教程，甚至不知道是否还有其他的教程，所以我能够分享的只有这么一个教程，我会在教程中强调一下容易操作错误的点。</p>
<h3 id="前提条件"><a href="#前提条件" class="headerlink" title="前提条件"></a>前提条件</h3><ol>
<li>安装有Firefox，傲游，Chrome等，能进行页面编辑的浏览器的电脑，</li>
<li>用网线将电脑与K2的Lan口连接，</li>
<li>保持K2与Internet互联网连通，PPPOE或者级联上级路由器均可。</li>
</ol>
<blockquote>
<p>注意点一：第三点所说的与互联网畅通是要求你的路由器能够正常访问网络，并且不存在受限的状况，如果你是用的是Windows10的笔记本，将wifi关闭，通过网线连接路由器，如果网络标志没有提示受限就可以了。切记：如果受限，则教程不会成功。</p>
</blockquote>
<h3 id="正式教程"><a href="#正式教程" class="headerlink" title="正式教程"></a>正式教程</h3><h5 id="在地址栏内输入K2登录地址，登录K2管理界面，选择右上角的“定时重启路由器”。"><a href="#在地址栏内输入K2登录地址，登录K2管理界面，选择右上角的“定时重启路由器”。" class="headerlink" title="在地址栏内输入K2登录地址，登录K2管理界面，选择右上角的“定时重启路由器”。"></a>在地址栏内输入<a href="http://192.168.2.1/" title="K2登录地址" target="_blank" rel="external">K2登录地址</a>，登录K2管理界面，选择右上角的“定时重启路由器”。</h5><p><img src="http://www.right.com.cn/forum/forum.php?mod=attachment&amp;aid=MTQ3NzU1fGJiZWI0OTk2fDE0ODc0MjQxMTR8MHwyMDQ0MzU%3D&amp;noupdate=yes" alt=""></p>
<h5 id="点选时间中的右侧下拉分钟选择框，通过浏览器的审查元素查看选择器的源码。"><a href="#点选时间中的右侧下拉分钟选择框，通过浏览器的审查元素查看选择器的源码。" class="headerlink" title="点选时间中的右侧下拉分钟选择框，通过浏览器的审查元素查看选择器的源码。"></a>点选时间中的右侧下拉分钟选择框，通过浏览器的审查元素查看选择器的源码。</h5><p><img src="http://www.right.com.cn/forum/forum.php?mod=attachment&amp;aid=MTQ3NzU3fGZmNWNiN2QyfDE0ODc0MjQxMTR8MHwyMDQ0MzU%3D&amp;noupdate=yes" alt=""></p>
<h5 id="将“05”修改成为“05-wget-http-breed-hackpascal-net-breed-mt7620-phicomm-psg1208-bin”-之后，鼠标移动到黑框外的空白处点击鼠标左键，结束编辑。"><a href="#将“05”修改成为“05-wget-http-breed-hackpascal-net-breed-mt7620-phicomm-psg1208-bin”-之后，鼠标移动到黑框外的空白处点击鼠标左键，结束编辑。" class="headerlink" title="将“05”修改成为“05 | wget http://breed.hackpascal.net/breed-mt7620-phicomm-psg1208.bin” 之后，鼠标移动到黑框外的空白处点击鼠标左键，结束编辑。"></a>将“05”修改成为“05 | wget <a href="http://breed.hackpascal.net/breed-mt7620-phicomm-psg1208.bin”" target="_blank" rel="external">http://breed.hackpascal.net/breed-mt7620-phicomm-psg1208.bin”</a> 之后，鼠标移动到黑框外的空白处点击鼠标左键，结束编辑。</h5><p><img src="http://www.right.com.cn/forum/forum.php?mod=attachment&amp;aid=MTQ3NzU5fDk5NzYzYzAzfDE0ODc0MjQxMTR8MHwyMDQ0MzU%3D&amp;noupdate=yes" alt=""></p>
<h5 id="在定时重启路由器页面上选择05之后，点击“保存”。"><a href="#在定时重启路由器页面上选择05之后，点击“保存”。" class="headerlink" title="在定时重启路由器页面上选择05之后，点击“保存”。"></a>在定时重启路由器页面上选择05之后，点击“保存”。</h5><p><img src="http://www.right.com.cn/forum/forum.php?mod=attachment&amp;aid=MTQ3NzYwfGM2MjMzZWJjfDE0ODc0MjQxMTR8MHwyMDQ0MzU%3D&amp;noupdate=yes" alt=""></p>
<blockquote>
<p>注意点二：此处操作。请多选择05选项几次，确保无错。这是通过命令将配置文件下载到路由器内部，如果网络暂时刷新时间较长，则说明这一步成功了，因为路由器正在下载文件。如果没有感觉到有什么变化，也请继续操作试试，或许是很快就下载好了。</p>
</blockquote>
<h5 id="重复以上的替换操作，执行以下操作"><a href="#重复以上的替换操作，执行以下操作" class="headerlink" title="重复以上的替换操作，执行以下操作"></a>重复以上的替换操作，执行以下操作</h5><pre><code>将“05”修改成“05 | mtd unlock Bootloader”
将“05”修改成“05 | mtd -r write breed-mt7620-phicomm-psg1208.bin Bootloader“
</code></pre><blockquote>
<p>注意点三：第三条命令执行完毕之后，路由器会自动重启，原教程说的是路由器的指示灯会变红，但是我的依旧是蓝色的，所以，这里应该注意的是电脑上的网络标志，因为我的电脑显示网络连接断开，过了一会之后路由器指示灯也变红了，此时电脑通过网线连接上了路由器，个人觉得此时路由器应该还在启动，所以等个几分钟，等到路由器的指示灯变成蓝色之后就能够执行下一步操作了。</p>
</blockquote>
<h5 id="拔除K2上Wan口的网线，路由器断电，持续按住路由器上的reset按钮，接通路由器电源，几秒后松开reset按钮。（具体几秒自己感知吧。。。十秒肯定是够了吧）"><a href="#拔除K2上Wan口的网线，路由器断电，持续按住路由器上的reset按钮，接通路由器电源，几秒后松开reset按钮。（具体几秒自己感知吧。。。十秒肯定是够了吧）" class="headerlink" title="拔除K2上Wan口的网线，路由器断电，持续按住路由器上的reset按钮，接通路由器电源，几秒后松开reset按钮。（具体几秒自己感知吧。。。十秒肯定是够了吧）"></a>拔除K2上Wan口的网线，路由器断电，持续按住路由器上的reset按钮，接通路由器电源，几秒后松开reset按钮。（具体几秒自己感知吧。。。十秒肯定是够了吧）</h5><h5 id="在浏览器地址栏输入“http-192-168-1-1”-访问Breed-Web。进入Breed-Web后，请及时进行EEPROM备份，然后再刷其他的固件。"><a href="#在浏览器地址栏输入“http-192-168-1-1”-访问Breed-Web。进入Breed-Web后，请及时进行EEPROM备份，然后再刷其他的固件。" class="headerlink" title="在浏览器地址栏输入“http://192.168.1.1” 访问Breed Web。进入Breed Web后，请及时进行EEPROM备份，然后再刷其他的固件。"></a>在浏览器地址栏输入“<a href="http://192.168.1.1" title="http://192.168.1.1" target="_blank" rel="external">http://192.168.1.1</a>” 访问Breed Web。进入Breed Web后，请及时进行EEPROM备份，然后再刷其他的固件。</h5><h5 id="说明一点"><a href="#说明一点" class="headerlink" title="说明一点"></a><strong>说明一点</strong></h5><p>第三方固件有很多其他的功能，比如说自动连接ss之类的，而且也能够通过ssh连接到路由器。</p>
<h3 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h3><p>教程到上面就已经完了，至于为什么图片采用的是原教程的图片，主要是现在我的路由器已经刷成了第三方固件，同时我也不知道怎么恢复官方固件，所以没有办法截图。<br>第一次玩路由器，以后会分享一些玩路由器时踩的坑之类的。<br>此教程应该是适用斐讯路由器中有<code>自动重启路由器</code>操作的固件版本。<br>本人所用版本：斐讯K2 A6 22.4.6.3</p>
<h3 id="相关链接"><a href="#相关链接" class="headerlink" title="相关链接"></a>相关链接</h3><p><a href="http://www.right.com.cn/forum/thread-204435-1-1.html" title="斐讯K2 22.4.6.3 非telnet 页面直刷 Breed 详细方法（图文）" target="_blank" rel="external">斐讯K2 22.4.6.3 非telnet 页面直刷 Breed 详细方法（图文）</a><br><a href="http://soundrain.net/2016/04/25/%E6%96%90%E8%AE%AFK2%E8%B7%AF%E7%94%B1%E5%88%B7openwrt%E5%AE%9E%E8%B7%B5%E6%95%99%E7%A8%8B/" title="斐讯K2路由刷openwrt实践教程（不适用本版本）" target="_blank" rel="external">斐讯K2路由刷openwrt实践教程（不适用本版本）</a><br><a href="http://bbs.mydigit.cn/read.php?tid=1572590" title="免费的总是最贵的,斐讯K1官方固件惊现后门——疑似窃取用户隐私" target="_blank" rel="external">免费的总是最贵的,斐讯K1官方固件惊现后门——疑似窃取用户隐私</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/02/18/斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑/" data-id="cizl4kwvw000l44nt1p6kvr0y" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/02/18/斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Mojo 框架基本使用（perl语言）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/02/09/Mojo 框架基本使用（perl语言）/" class="article-date">
  <time datetime="2017-02-09T15:02:33.000Z" itemprop="datePublished">2017-02-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/02/09/Mojo 框架基本使用（perl语言）/">Mojo 框架基本使用（perl语言）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a><strong>说在前面</strong></h2><p>前几天逛<a href="http://www.coolapk.com/" title="酷安" target="_blank" rel="external">酷安</a>的时候，发现了一款应用挺不错的，就是<a href="http://www.coolapk.com/apk/com.swjtu.gcmformojo" title="GCMforMojo" target="_blank" rel="external">GCMforMojo</a>。<br>在这里贴上该应用的简介：</p>
<h3 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h3><p>在一台可以完美访问谷歌的服务器或者你自己的不关机的电脑上（建议使用hosts文件，指定gcm-http.googleapis.com的IP），利用moio-webqq这个软件（Perl语言），登录smartqq网页平台接受和发送消息，并使用提供的GCM插件，将群消息和好友消息发送到谷歌的推送服务器。谷歌服务器再把消息推送到应用。</p>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><p>不能接受图片消息，smartqq过段时间就会让你重新扫码登录。</p>
<p>正如这个简介所说，该应用使用的是Mojo这个框架（没毛病），使用smartqq的协议接受qq消息并通过google的gcm转发到客户端，同时可以通过客户端进行回复。</p>
<h2 id="部署过程以及简单教程"><a href="#部署过程以及简单教程" class="headerlink" title="部署过程以及简单教程"></a><strong>部署过程以及简单教程</strong></h2><p>由于我也不会这个<code>perl</code>语言，所以说精通肯定是不可能的，只能说把自己搭建的过程写出来，至少这个还是挺简单的。</p>
<h3 id="以下是linux的教程，windows用户请往下翻"><a href="#以下是linux的教程，windows用户请往下翻" class="headerlink" title="以下是linux的教程，windows用户请往下翻"></a><strong>以下是linux的教程，windows用户请往下翻</strong></h3><hr>
<h3 id="所用配置"><a href="#所用配置" class="headerlink" title="所用配置"></a>所用配置</h3><p><code>ubuntu14.04</code>能够完美访问google的vps一台<br>用于接收消息以及回复消息的android设备一部<br>一个可用的tencent账号（XD）</p>
<h4 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h4><p>从简介来看，简介中提供了windows的压缩包，所以说这个框架能够运行在windows以及linux系统中，所以windows服务器也是可以的，甚至是旧手机，以及路由器（暂时没玩过）。</p>
<h3 id="客户端配置"><a href="#客户端配置" class="headerlink" title="客户端配置"></a>客户端配置</h3><p>这里是客户端的<a href="http://www.coolapk.com/apk/com.swjtu.gcmformojo" title="下载链接" target="_blank" rel="external">下载链接</a><br>安装之后，第一次运行（需科学上网）会自动注册一个令牌，这个令牌之后我们会用到。</p>
<h3 id="安装perl"><a href="#安装perl" class="headerlink" title="安装perl"></a>安装perl</h3><p>安装之前请先确认下你的系统是否已经安装了Perl，因为除了windows，其他大部分的平台默认都可能已经预装过。<br>并且你的Perl版本至少5.10.1+，推荐5.14+。<br><a href="https://www.perl.org/get.html" title="Perl官网下载页面" target="_blank" rel="external">Perl官网下载页面</a>有包含Unix/Linux、Mac OS X、Windows多平台比较全面详细的安装说明。<br>建议大家尽量选择Binaries（二进制预编译）的版本，安装即可使用，比较方便。</p>
<table>
<thead>
<tr>
<th style="text-align:left">平台</th>
<th style="text-align:left">推荐选择</th>
<th style="text-align:left">下载地址</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Windows</td>
<td style="text-align:left">1. <strong>StrawberryPerl</strong><br>2. ActivePerl<br>3. <strong>Mojo-StrawberryPerl</strong></td>
<td style="text-align:left"><a href="http://strawberryperl.com/" target="_blank" rel="external">StrawberryPerl下载地址</a><br><a href="https://github.com/sjdy521/Mojo-StrawberryPerl" target="_blank" rel="external">Mojo-StrawberryPerl下载地址</a><br><a href="http://www.activestate.com/activeperl/downloads" target="_blank" rel="external">ActivePerl下载地址</a><br></td>
</tr>
<tr>
<td style="text-align:left">Linux</td>
<td style="text-align:left">1. <strong>系统自带</strong><br>2. <strong>yum/apt等包管理器</strong><br>3. 官方源码编译<br>4. <strong>Mojo-CentosPerl</strong><br>5. ActivePerl<br>6. Mojo-ActivePerl<br>7. DWIM-Perl</td>
<td style="text-align:left"><a href="https://github.com/sjdy521/Mojo-CentosPerl" target="_blank" rel="external">Mojo-CentosPerl下载地址</a><br><a href="http://www.activestate.com/activeperl/downloads" target="_blank" rel="external">ActivePerl下载地址</a><br><a href="https://github.com/sjdy521/Mojo-ActivePerl" target="_blank" rel="external">Mojo-ActivePerl下载地址</a><br><a href="http://dwimperl.com/linux.html" target="_blank" rel="external">DWIM-Perl下载地址</a></td>
</tr>
<tr>
<td style="text-align:left">Mac</td>
<td style="text-align:left">1. <strong>系统自带</strong><br>2. ActivePerl</td>
<td style="text-align:left"><a href="http://www.activestate.com/activeperl/downloads" target="_blank" rel="external">ActivePerl下载地址</a></td>
</tr>
</tbody>
</table>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p><a href="https://github.com/sjdy521/Mojo-CentosPerl" title="Mojo-CentosPerl" target="_blank" rel="external">Mojo-CentosPerl</a>是基于Centos系统编译打包而成，适合Centos6.5以上的x86_64系统<br><a href="https://github.com/sjdy521/Mojo-ActivePerl" title="Mojo-ActivePerl" target="_blank" rel="external">Mojo-ActivePerl</a>是基于<code>ActivePerl</code>打包的而成，适用于linux x86_64系统，并且系统glibc 2.15+<br><a href="https://github.com/sjdy521/Mojo-StrawberryPerl" title="Mojo-StrawberryPerl" target="_blank" rel="external">Mojo-StrawberryPerl</a>是基于<code>StrawberryPerl</code>精简打包而成，适用于windows 32位/64位系统</p>
<p>由于在这里我用的是<code>ubuntu</code>，已经预装了<code>perl</code>，所以跳过这一步。</p>
<h3 id="安装cpanm"><a href="#安装cpanm" class="headerlink" title="安装cpanm"></a>安装cpanm</h3><p>方法a： 通过<code>cpan</code>安装<code>cpanm</code></p>
<pre><code>$ cpan -i App::cpanminus
</code></pre><p>方法b： 直接在线安装<code>cpanm</code></p>
<pre><code>$ curl -kL https://cpanmin.us | perl - App::cpanminus
</code></pre><p>官方服务器在国外，如果无法访问，可以选择下面的命令：</p>
<pre><code>$ curl http://share-10066126.cos.myqcloud.com/cpanm.pl|perl - App::cpanminus
</code></pre><p>基本上都是<code>Ctrl c+v</code>就能够完成的。</p>
<h3 id="安装Mojo-Webqq"><a href="#安装Mojo-Webqq" class="headerlink" title="安装Mojo::Webqq"></a>安装Mojo::Webqq</h3><p>在安装这个模块的时候有两个方法：</p>
<h4 id="第一个方法—-在线安装"><a href="#第一个方法—-在线安装" class="headerlink" title="第一个方法—-在线安装"></a>第一个方法—-在线安装</h4><p>（如果系统已经安装了该模块，执行此步骤会对模块进行升级）。</p>
<pre><code>$ cpanm Mojo::Webqq
</code></pre><p>如果安装过程中一直提示下载失败，很可能是因为访问到国外服务器网络比较差，这种情况下可以尝试按如下方式手动指定国内的镜像站点。</p>
<pre><code>$ cpanm --mirror http://mirrors.163.com/cpan/ Mojo::Webqq
</code></pre><h4 id="第二个方法—-通过git获取源码并在本地编译"><a href="#第二个方法—-通过git获取源码并在本地编译" class="headerlink" title="第二个方法—-通过git获取源码并在本地编译"></a>第二个方法—-通过git获取源码并在本地编译</h4><p>通过这个办法可以修改该插件的源码并重新编译，比如之前的一个旧版本在发布的时候只添加了好友私聊消息回复功能，群回复不能用，这种情况下就可以用这个来获取源码并修改，然后重新编译安装。</p>
<pre><code>$ git clone https://github.com/sjdy521/Mojo-Webqq.git
</code></pre><p>执行修改之后开始编译源码：</p>
<p>首先cd到项目的根目录<br>然后执行以下代码：</p>
<pre><code>perl Makefile.PL
make
make install
make clean
</code></pre><p>这样源码就编译并且成功安装了。</p>
<h4 id="安装失败的部分解决方法"><a href="#安装失败的部分解决方法" class="headerlink" title="安装失败的部分解决方法"></a>安装失败的部分解决方法</h4><p>在这里第一次安装的时候，我得到一个错误（不知道具体什么错误），看了官方的文档，得知是依赖库未安装导致的错误。<br>以下是官方文档原文：</p>
<pre><code>在安装 Mojo::Webqq 的过程中，cpan或者cpanm会帮助我们自动安装很多其他的依赖模块。
在众多的依赖模块中，安装经常容易出现问题的主要是 IO::Socket::SS。
IO::Socket::SSL 主要提供了 https 支持，在安装过程中可能会涉及到SSL相关库的编译。
对于 Linux 用户，通常采用的是编译安装的方式，系统缺少编译安装必要的环境，则会导致编译失败
对于 Windows 用户，由于不具备良好的编译安装环境，推荐采用一些已经打包比较全面的Perl运行环境
例如比较流行的 strawberryperl 或者 activeperl 的最新版本都默认包含 Mojo::Webqq 的核心依赖模块（下载地址上面有）
</code></pre><h5 id="RedHat-Centos"><a href="#RedHat-Centos" class="headerlink" title="RedHat/Centos:"></a>RedHat/Centos:</h5><pre><code>$ yum install -y openssl-devel
</code></pre><h5 id="Ubuntu"><a href="#Ubuntu" class="headerlink" title="Ubuntu:"></a>Ubuntu:</h5><pre><code>$ sudo apt-get install libssl-dev
</code></pre><p>搞定了编译和运行环境之后，重新安装Mojo::Webqq即可。</p>
<hr>
<h4 id="使用教程"><a href="#使用教程" class="headerlink" title="使用教程"></a>使用教程</h4><h5 id="windows使用教程"><a href="#windows使用教程" class="headerlink" title="windows使用教程"></a><strong>windows使用教程</strong></h5><p>很简单，直接下载<a href="http://pan.baidu.com/s/1jIhZfs6" title="这个压缩包" target="_blank" rel="external">这个压缩包</a>，然后解压，修改<code>mojo_webqq.pl</code>以及<code>mojo_weixin.pl</code>,填入客户端<code>token</code>，运行<code>start_mojo_webqq.bat</code>和<code>start_mojo_weixin.bat</code>即可。</p>
<h5 id="Linux使用教程"><a href="#Linux使用教程" class="headerlink" title="Linux使用教程"></a><strong>Linux使用教程</strong></h5><p>对于我们linux用户来说，我们已经通过上面的步骤安装了<code>Mojo::Webqq</code>这个插件了，至于要通过文件进行启动即可，而这个插件使用<code>perl</code>来写的，所以自然是使用<code>perl</code>的语法来使用。<br>新建一个pl文件</p>
<pre><code>$ vi xxx.pl
</code></pre><p><strong>其中xxx表示文件名，可自行修改。</strong><br>然后将下面的内容粘贴到这个文件中（vim编辑器）：</p>
<figure class="highlight perl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env perl</span></div><div class="line"><span class="keyword">use</span> Mojo::Webqq; <span class="comment">#微信使用 use Mojo::Weixin</span></div><div class="line"><span class="keyword">my</span> $client = Mojo::Webqq-&gt;new(<span class="string">log_encoding=&gt;</span><span class="string">"utf-8"</span>);</div><div class="line">$client-&gt;load(<span class="string">"ShowMsg"</span>); <span class="comment">#将接收到的消息在控制台打印出来，如果不需要可删除该行</span></div><div class="line">$client-&gt;load(<span class="string">"GCM"</span>,<span class="string">data=&gt;</span>&#123;</div><div class="line">	<span class="string">api_url =&gt;</span> <span class="string">'https://gcm-http.googleapis.com/gcm/send'</span>,</div><div class="line">	<span class="string">api_key=&gt;</span><span class="string">'AIzaSyB18io0hduB_3uHxKD3XaebPCecug27ht8'</span>,</div><div class="line">	<span class="string">registration_ids=&gt;</span>[<span class="string">"输入你自己从 GCMForMojo APP中获取到的令牌"</span>],</div><div class="line">	<span class="string">allow_group=&gt;</span>[<span class="string">"接受群消息的号码，如需要推送全部群消息可删除这一行，每个群号码之间使用 "</span><span class="string">", 分隔"</span>],</div><div class="line">	<span class="string">ban_group=&gt;</span>[],</div><div class="line">	<span class="string">allow_discuss=&gt;</span>[],</div><div class="line">	<span class="string">ban_discuss=&gt;</span>[],</div><div class="line">&#125;);</div><div class="line">$client-&gt;load(<span class="string">"Openqq"</span>,<span class="string">data=&gt;</span>&#123;</div><div class="line"><span class="comment">#如果是微信改为 Openwx</span></div><div class="line">	<span class="string">listen =&gt;</span> [&#123;<span class="string">host=&gt;</span><span class="string">"0.0.0.0"</span>,<span class="string">port=&gt;</span><span class="number">5000</span>&#125;, ] ,</div><div class="line"><span class="comment">#如果是推送微信的话需要设置不同的端口，并请保证所设定的端口已经在防火墙内放行，同时需要在 APP 内设定好推送服务器的地址和端口</span></div><div class="line">&#125;);</div><div class="line"><span class="comment">#不需要 APP 内回复功能请删除以上两行（不包括被 # 号注释掉的几行）</span></div><div class="line">$client-&gt;run();</div></pre></td></tr></table></figure>
<p>其中的token一行填上我们在app中获取到的token<br>保存退出，然后执行</p>
<pre><code>$ perl xxx.pl
</code></pre><p><strong>其中xxx表示文件名，可自行修改。</strong></p>
<h4 id="客户端配置-1"><a href="#客户端配置-1" class="headerlink" title="客户端配置"></a>客户端配置</h4><p>完成了服务端的配置，现在我们应该能够通过客户端接收消息了，但是我们仍然无法回复消息，这是因为我们客户端的配置还没完成。<br>打开客户端，打开设置，里面有一个回复消息的公网url地址，在这里我们填上以下地址：</p>
<pre><code>http://（服务器的公网ip）:5000
</code></pre><p>其中的5000是端口，请确保你的服务器能够通过这个端口，并且与你在pl文件中填写的一致。请注意链接中填写的是公网，填写本地ip是没用的。<br>现在我们就完成了所有的配置。</p>
<h4 id="重点"><a href="#重点" class="headerlink" title="重点"></a>重点</h4><p>如果你现在windows上测试这个框架，你就会发现如果关闭命令行的窗口，这个框架便会随之关闭，同样，在linux上依旧是如果断开ssh连接，这个进程会被系统杀掉，为了让这个进程一直在后台运行，我们需要借助一些方法，在这里，我使用的是screen，一个linux上的软件，具体的安装方法自行谷歌（不推荐百度，纯粹是个人觉得）。<br>安装好之后新开一个screen，然后在这个screen中运行<code>perl xxx.pl</code>，<code>Ctrl A+d</code>隐藏这个screen，这样框架就一直在后台运行了。</p>
<hr>
<h4 id="写在后面（XD）"><a href="#写在后面（XD）" class="headerlink" title="写在后面（XD）"></a>写在后面（XD）</h4><p>到了这里，基本上教程就写完了。<br>其实这个框架很强大，除了转发（我喜欢这么说）qq消息以及回复qq消息之外，还可以实现很多功能，比如说qq机器人等。</p>
<p>以下是一些官网的链接：<br><a href="https://metacpan.org/pod/distribution/Mojo-Webqq/doc/Webqq.pod" title="Mojo-Webqq开发文档" target="_blank" rel="external">Mojo-Webqq开发文档</a></p>
<p><a href="https://github.com/sjdy521/Mojo-Webqq/blob/master/API.md" title="Mojo-WebqqAPI文档" target="_blank" rel="external">Mojo-WebqqAPI文档</a></p>
<p><a href="https://github.com/sjdy521/Mojo-Webqq" title="Mojo-Webqq Github地址" target="_blank" rel="external">Mojo-Webqq Github地址</a></p>
<h4 id="感谢列表"><a href="#感谢列表" class="headerlink" title="感谢列表"></a>感谢列表</h4><p><a href="https://blog.kotomei.tk/2017/01/21/GCM%20For%20Mojo%20%E7%9A%84%E9%83%A8%E7%BD%B2%E4%B8%8E%E8%AE%BE%E5%AE%9A/" title="GCMForMojo 的部署与设置 by kotomei" target="_blank" rel="external">GCMForMojo 的部署与设置 by kotomei</a></p>
<p><a href="https://github.com/sjdy521/Mojo-Webqq/" title="Mojo:WebQQ by sjdy521" target="_blank" rel="external">Mojo:WebQQ by sjdy521</a></p>
<p><a href="https://github.com/sjdy521/Mojo-Weixin/" title="Mojo::Weixin by sjdy521" target="_blank" rel="external">Mojo::Weixin by sjdy521</a></p>
<p><a href="http://www.coolapk.com/apk/com.swjtu.gcmformojo" title="GCMforMojo by jklmn" target="_blank" rel="external">GCMforMojo by jklmn</a></p>
<p>软件交流：</p>
<p>QQ：611537356<br>Telegram：<a href="https://t.me/GCMforMojo" title="Telegram链接" target="_blank" rel="external">Telegram链接</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/02/09/Mojo 框架基本使用（perl语言）/" data-id="cizl4kwva000844ntjb9k5394" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/02/09/Mojo 框架基本使用（perl语言）/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Ubuntu使用Shadowsocks-qt5科学上网" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/12/Ubuntu使用Shadowsocks-qt5科学上网/" class="article-date">
  <time datetime="2017-01-12T08:15:58.000Z" itemprop="datePublished">2017-01-12</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Ubuntu/">Ubuntu</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/12/Ubuntu使用Shadowsocks-qt5科学上网/">Ubuntu使用Shadowsocks-qt5科学上网</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>由于大多数朋友都问我在Ubuntu上面怎么科学上网，为了防止以后忘记，故此记录。</p>
<h2 id="本教程使用的配置"><a href="#本教程使用的配置" class="headerlink" title="本教程使用的配置"></a>本教程使用的配置</h2><p>Ubuntu 16.10<br>Shadowsocks-qt5<br>一个可用的ss账号<br>一根能够通向www的网线</p>
<h2 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h2><p><code>shadowsocks-qt5</code>是ubuntu上一个可视化的版本，当然也有脚本的那种，但是没有使用过。</p>
<h1 id="操作流程"><a href="#操作流程" class="headerlink" title="操作流程"></a>操作流程</h1><h2 id="安装shadowsocks-qt5"><a href="#安装shadowsocks-qt5" class="headerlink" title="安装shadowsocks-qt5"></a>安装shadowsocks-qt5</h2><pre><code>sudo add-apt-repository ppa:hzwhuang/ss-qt5
sudo apt-get update
sudo apt-get install shadowsocks-qt5
</code></pre><p>第一行代码是添加软件的ppa源，当然，这是作者提供的<br>然后执行<code>update</code>更新并安装<code>shadowsocks-qt5</code>。<br>如果安装成功之后，按<code>win键</code>搜索应该能够找到软件，如下图所示：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-12-15-17-48.png" alt=""></p>
<h2 id="配置shadowsocks-qt5"><a href="#配置shadowsocks-qt5" class="headerlink" title="配置shadowsocks-qt5"></a>配置shadowsocks-qt5</h2><p>打开软件，如下图所示：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-12-15-21-49.png" alt=""><br>单击<code>Connection</code>添加服务器配置，在你想要默认使用的配置里勾选<code>自动启动</code>。<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-12-15-24-44.png" alt=""><br>配置完成之后应该是下图的这个样子：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-12-15-30-36.png" alt=""></p>
<h2 id="配置系统代理"><a href="#配置系统代理" class="headerlink" title="配置系统代理"></a>配置系统代理</h2><p>单独是配置shadowsocks-qt5并不能使用网络，所以还要配置系统的代理。<br>打开<code>设置</code>-<code>网络</code>-<code>网络代理</code><br>代理方式选择<code>手动</code>，第一个<code>http代理</code>清空配置，端口设置为<code>0</code>，然后第四个<code>socks代理</code>设置为<code>127.0.0.1</code>，端口填写<code>1080</code>，ip和端口在<code>shadowsocks-qt5</code>中有设置，使用默认的就好。<br>这样是全局代理，也可以设置自动代理，但是有的朋友说自动代理无效，但是我是能用的，所以还是提供一下自动代理的地址：    <a href="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" title="https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt" target="_blank" rel="external">https://raw.githubusercontent.com/gfwlist/gfwlist/master/gfwlist.txt</a><br>维护人员的github地址在<a href="https://github.com/gfwlist/gfwlist" title="这里" target="_blank" rel="external">这里</a>。</p>
<h2 id="配置浏览器（Chrome）"><a href="#配置浏览器（Chrome）" class="headerlink" title="配置浏览器（Chrome）"></a>配置浏览器（Chrome）</h2><p>应该来说现在能上网了，但是对于浏览器来说，我们可以添加插件用来自动判断当前网址是否需要科学上网。<br>我在这里使用的是chrome，所以使用chrome的方法来写教程。</p>
<h3 id="下载chrome浏览器"><a href="#下载chrome浏览器" class="headerlink" title="下载chrome浏览器"></a>下载chrome浏览器</h3><p>如果你已经有了可以跳过此步，直接查看下一步。<br><a href="https://www.google.com/chrome/browser/desktop/" title="官网下载chrome" target="_blank" rel="external">官网下载chrome</a><br>如果因为其他的什么原因，可以通过<a href="https://1drv.ms/u/s!AuAoQHzZulMsrTncaiadX4Sg5vlg" title="我提供的地址" target="_blank" rel="external">我提供的地址</a>下载Chrome。</p>
<h3 id="下载代理插件Proxy-SwitchyOmega"><a href="#下载代理插件Proxy-SwitchyOmega" class="headerlink" title="下载代理插件Proxy SwitchyOmega"></a>下载代理插件Proxy SwitchyOmega</h3><p>chrome扩展商店的地址在<a href="https://chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif" title="这里" target="_blank" rel="external">这里</a>。<br>同样提供<a href="https://1drv.ms/u/s!AuAoQHzZulMsrTo0weMqlqIJpSwl" title="另外的地址" target="_blank" rel="external">另外的地址</a>。</p>
<hr>
<h4 id="注意"><a href="#注意" class="headerlink" title="注意"></a>注意</h4><p>因为上面的链接是onedrive的链接，如果仍然无法访问可以访问<a href="http://pan.baidu.com/s/1slrU97B" target="_blank" rel="external">这个</a>（百度网盘在linux没有客户端，可以满速下载）。</p>
<hr>
<p>安装好<code>Proxy SwitchyOmega</code>之后浏览器会自动打开配置界面，如下图所示：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-12-15-48-00.png" alt=""><br>新建一个规则，名字随意，然后代理规则那里选择<code>socks5</code>，服务器地址填<code>127.0.0.1</code>，端口<code>1080</code>，如下图所示：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-12-15-53-36.png" alt=""><br>也可通过<a href="https://1drv.ms/u/s!AuAoQHzZulMsrTvWsmF5_pWOW2rg" title="备份文件" target="_blank" rel="external">备份文件</a>导入配置。<br>然后保存修改，在浏览器中选择<code>auto switch</code>（自动切换）或者<code>GFWed</code>（备份文件恢复的配置，即自己添加的配置规则）。<br>自动切换可以根据不同的网址来自动选择是否使用代理，我嫌麻烦就使用的全局。<br>现在在浏览器中应该能够流畅的科学上网了，当然，取决于你自己的shadowsocks账号配置。</p>
<h2 id="添加shadowsocks-qt5自动启动"><a href="#添加shadowsocks-qt5自动启动" class="headerlink" title="添加shadowsocks-qt5自动启动"></a>添加shadowsocks-qt5自动启动</h2><p>使用一段时间后你应该会发现每次开机都要手动运行<code>shadowsocks-qt5</code>，所以我们还要添加<code>shadwsocks-qt5</code>的自动启动。<br><code>Ctrl+Alt+T</code>打开终端，输入下面的指令：<br>    gnome-session-properties<br>然后弹出这样的窗口：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-1216-07-28.png" alt=""><br>点击右边的add，然后选择<code>/usr/bin/ss-qt5</code>，名称随便输，保存即可。<br>教程结束。</p>
<h1 id="感谢列表"><a href="#感谢列表" class="headerlink" title="感谢列表"></a>感谢列表</h1><p><a href="https://rosing.gitbooks.io/pythoncamp0/content/wiki/shadowsocks.html" title="Ubuntu下shadowsocks科学上网姿势" target="_blank" rel="external">Ubuntu下shadowsocks科学上网姿势</a></p>
<p><a href="http://www.afox.cc/archives/83" title="ubuntu 使用图形化配置 shadowsocks -qt5 开机自动启动（配置开机启动）" target="_blank" rel="external">ubuntu 使用图形化配置 shadowsocks -qt5 开机自动启动（配置开机启动）</a></p>
<p><a href="https://github.com/gfwlist/gfwlist" title="gfwlist" target="_blank" rel="external">gfwlist</a></p>
<p><a href="https://ii-i.org/archives/289" title="谷歌浏览器Chrome+ShadowSocks+Proxy SwitchyOmega自动翻墻教程" target="_blank" rel="external">谷歌浏览器Chrome+ShadowSocks+Proxy SwitchyOmega自动翻墻教程</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/01/12/Ubuntu使用Shadowsocks-qt5科学上网/" data-id="cizl4kwvj000c44ntrnshpftn" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/01/12/Ubuntu使用Shadowsocks-qt5科学上网/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-个人服务器搭建Hexo博客（Windows篇）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/个人服务器搭建Hexo博客（Windows篇）/" class="article-date">
  <time datetime="2017-01-11T10:54:01.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/博客/">博客</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/个人服务器搭建Hexo博客（Windows篇）/">个人服务器搭建Hexo博客（Windows篇）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="说在前面"><a href="#说在前面" class="headerlink" title="说在前面"></a><strong>说在前面</strong></h2><p>由于我也是第一次搭建，所有如果有什么地方说的不对，请大家提出来。很早之前就想从WordPress换到Hexo，倒不是说WordPress不好，只是不知道为什么我的后台页面是英语，一脸懵逼，也没去管，正好看到朋友自己搭建的挂载github上的博客非常好看，所以想搭一个Hexo看看。于是有了这篇教程。</p>
<h2 id="Hexo原理"><a href="#Hexo原理" class="headerlink" title="Hexo原理"></a><strong>Hexo原理</strong></h2><p>经过这一天的折腾，大改理解了Hexo的原理。首先我们写的博客源文件是md文件，然后经过Hexo的解析，生成html文件和文件目录，然后直接访问这些html文件就能浏览到对应的文章。至于将html文件推到github或者个人服务器上，就是作者自己的事情了。</p>
<h2 id="此文使用配置"><a href="#此文使用配置" class="headerlink" title="此文使用配置"></a><strong>此文使用配置</strong></h2><p>Windows10 PC ×1<br>Ubuntu16.04 主机 ×1</p>
<h2 id="流程"><a href="#流程" class="headerlink" title="流程"></a><strong>流程</strong></h2><h3 id="1-windows安装git"><a href="#1-windows安装git" class="headerlink" title="1.windows安装git"></a><strong>1.windows安装git</strong></h3><p>去<a href="https://git-scm.com/download/win" title="git官网" target="_blank" rel="external">git官网</a>下载git安装包，然后安装。</p>
<h4 id="git环境配置："><a href="#git环境配置：" class="headerlink" title="git环境配置："></a><strong>git环境配置：</strong></h4><p>按照大多数教程的方法，说的是系统变量Path新增值为git安装目录下的bin文件，我是很早之前用github的时候就安装并配置了git，去找了一下我的path，只找到值为git安装目录下的cmd文件，但是在cmd中空打git有命令，说明能使用，所以各位还是先试试bin文件夹吧，若不行请试一下cmd文件夹。<br>配置成功后在cmd窗口中直接输入git应该会出现帮助菜单，如下图所示：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-11-13-48-45.png" alt=""></p>
<h4 id="生成ssh密钥"><a href="#生成ssh密钥" class="headerlink" title="生成ssh密钥"></a><strong>生成ssh密钥</strong></h4><p>1.打开<code>C:\Users\&lt;用户名&gt;\.ssh</code>文件夹，如果没有就新建<br>2.在空白处单击右键，选择Git Bash Here打开终端<br>3.设置git用户名</p>
<pre><code>git config --global user.email &quot;email@example.com&quot;
git config --global user.name &quot;username&quot;
</code></pre><p>4.生成ssh密钥</p>
<pre><code>ssh-keygen -t rsa -C &quot;email@example.com&quot;
</code></pre><p>一路回车生成公钥和密钥，一会要用到公钥id_rsa.pub</p>
<h3 id="2-安装Node-js"><a href="#2-安装Node-js" class="headerlink" title="2.安装Node.js"></a><strong>2.安装Node.js</strong></h3><p>在<a href="https://nodejs.org/en/download/" title="Node.js官网" target="_blank" rel="external">Node.js官网</a>下载最新版，一路默认安装。</p>
<h3 id="3-安装Hexo到本地"><a href="#3-安装Hexo到本地" class="headerlink" title="3.安装Hexo到本地"></a><strong>3.安装Hexo到本地</strong></h3><p>在任意位置创建一个文件夹，用于存放Hexo，在这里我是放在<code>E:\Hexo</code>文件夹，下文以此代替。</p>
<h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a><strong>安装Hexo</strong></h4><p><code>win+r</code>打开<code>cmd</code>，<code>cd</code>到创建的<code>Hexo</code>文件夹，输入<code>node</code>后执行如下命令：</p>
<pre><code>npm install -g hexo-cli
hexo init
npm install
hexo d -fg
hexo serve
</code></pre><p>第一句是通过npm安装hexo，第二句是初始化hexo到当前目录（即<code>E:\Hexo</code>文件夹）。执行完最后一句之后，静态网页已经能够在<a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a>中访问了，当然，只是本地。<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-11-14-29-35.png" alt=""><br>这个时候查看hexo的目录可以看到下图的结构：<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-11-14-33-38.png" alt=""><br>其中themes便是主题文件夹，里面存放的是主题，通过<code>_config.yml</code>文件设置主题以及网站的信息。</p>
<h3 id="4-vps的配置"><a href="#4-vps的配置" class="headerlink" title="4.vps的配置"></a><strong>4.vps的配置</strong></h3><p>我在这里使用的ubuntu的主机，通过<a href="http://www.putty.org/" title="Putty" target="_blank" rel="external">Putty</a>连接远程主机，进入命令行界面。</p>
<h4 id="1-安装git"><a href="#1-安装git" class="headerlink" title="1.安装git"></a><strong>1.安装git</strong></h4><pre><code>$ sudo apt-get install git-core
</code></pre><h4 id="2-安装nginx："><a href="#2-安装nginx：" class="headerlink" title="2.安装nginx："></a><strong>2.安装nginx：</strong></h4><pre><code>$ sudo apt-get install nginx
</code></pre><h4 id="3-新建git用户"><a href="#3-新建git用户" class="headerlink" title="3.新建git用户"></a><strong>3.新建git用户</strong></h4><p>切换到root用户，然后执行以下语句：</p>
<pre><code>adduser git
chmod 740 /etc/sudoers
vim /etc/sudoers
</code></pre><p>在编辑器中找到如下内容：</p>
<pre><code># User privilege specification
root    ALL=(ALL:ALL) ALL
</code></pre><p>在后面添加一行：</p>
<pre><code>git   ALL=(ALL)     ALL
</code></pre><p>保存并退出后执行：</p>
<pre><code>chmod 440 /etc/sudoers
</code></pre><h4 id="4-创建git仓库，配置ssh登陆"><a href="#4-创建git仓库，配置ssh登陆" class="headerlink" title="4.创建git仓库，配置ssh登陆"></a><strong>4.创建git仓库，配置ssh登陆</strong></h4><pre><code>su git
cd ~
mkdir .ssh &amp;&amp; cd .ssh
touch authorized_keys
vi authorized_keys
cd ~ 
mkdir hexo.git &amp;&amp; cd hexo.git
git init --bare
</code></pre><p>在<code>vi authorized_keys</code>时，将之前在windows上用git生成的key粘贴进去，<strong>注意是全文粘贴！</strong><br>测试一下，返回到windows，在任意目录右键<code>git bash here</code>，输入<code>ssh git@vps的ip地址</code>，如果能够远程登录的话，则表示设置成功。</p>
<h4 id="5-设置网站目录并赋予git用户访问权限"><a href="#5-设置网站目录并赋予git用户访问权限" class="headerlink" title="5.设置网站目录并赋予git用户访问权限"></a><strong>5.设置网站目录并赋予git用户访问权限</strong></h4><p>nginx默认打开的目录是<code>/var/www/html</code>，所以我们要让git用户能够访问到这个目录并进行修改。当然也可以新建一个目录用于存储hexo的文件，之后只要在nginx的配置文件中修改服务器入口即可。我在这里是新建了一个目录存放hexo文件，所以执行如下命令：</p>
<pre><code>cd /var/www
mkdir hexo
chown git:git -R /var/www/hexo
</code></pre><h4 id="6-配置git-hooks"><a href="#6-配置git-hooks" class="headerlink" title="6.配置git hooks"></a><strong>6.配置git hooks</strong></h4><pre><code>su git
cd /home/git/hexo.git/hooks
vim post-receive
</code></pre><p>输入如下内容后保存并退出：</p>
<pre><code>#!/bin/bash
rm -rf /tmp/hexo
git clone /home/git/hexo.git /tmp/hexo
rm -rf /var/www/hexo/*
cp -rf /tmp/hexo/* /var/www/hexo
</code></pre><p>这一段脚本学过shell的人应该都能看懂。<br>然后赋予脚本权限（切换到root用户）</p>
<pre><code>chmod +x post-receive
</code></pre><p>接下来赋予git用户访问这三个目录的权限，<code>/var/www/hexo</code>已经赋予了，还有其他的两个目录：</p>
<pre><code>chown git:git -R /home/git/hexo.git
chown git:git -R /tmp/hexo
</code></pre><h4 id="7-配置nginx"><a href="#7-配置nginx" class="headerlink" title="7.配置nginx"></a><strong>7.配置nginx</strong></h4><p>root用户下执行：</p>
<pre><code>vim /etc/nginx/sites-available/default
</code></pre><p>找到<code>root /var/www/html;</code><br>将其修改为：</p>
<pre><code>root /var/www/hexo;
</code></pre><p>保存并退出。<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-11-15-04-36.png" alt=""><br>重启nginx</p>
<pre><code>service nginx restart
</code></pre><h4 id="8-配置Hexo"><a href="#8-配置Hexo" class="headerlink" title="8.配置Hexo"></a><strong>8.配置Hexo</strong></h4><p>使用文本编辑器打开<code>hexo</code>文件夹下的<code>_config.yml</code>，修改<code>deploy</code>选项</p>
<pre><code># Deployment
## Docs: https://hexo.io/docs/deployment.html
deploy:
      type: git
      message: update
      repo: git@vps的ip地址:hexo.git,master
</code></pre><p>然后在<code>hexo</code>文件夹新建一个bat脚本文件，命令是</p>
<pre><code>hexo g &amp;&amp; hexo d
</code></pre><p>当然也可以不建立，各人所好吧。<br><img src="https://raw.githubusercontent.com/Mystery00/Hexo_Post/master/img/2017-01-11-15-09-33.png" alt=""><br>双击运行，推送成功之后，直接打开vps的ip地址应该就能直接访问<code>hello world</code>了，至此，教程结束。</p>
<h2 id="更新博客的方法"><a href="#更新博客的方法" class="headerlink" title="更新博客的方法"></a><strong>更新博客的方法</strong></h2><p>新建md文件（后缀名是.md），拷贝到<code>hexo</code>文件夹的<code>source\_posts</code>中，双击运行脚本（或者打开cmd <code>cd</code>到hexo文件夹，执行命令<code>hexo g &amp;&amp; hexo d</code>）。<br>文件编码必须为 UTF-8，这一点请用户注意。<br>每篇 Blog 都有固定的参数必须填写，参数如下，注意每个参数的 : 后都有一个空格：</p>
<pre><code>title: title
date: yyyy-mm-dd
categories: category  
tags: tag
#多标签请这样写：  
#tags: [tag1,tag2,tag3]
#或者这样写： 
#tags:
#- tag1 
#- tag2  
#- tag3  
---  
正文  
</code></pre>
      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/01/11/个人服务器搭建Hexo博客（Windows篇）/" data-id="cizl4kwvp000h44ntfwsmegaw" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/01/11/个人服务器搭建Hexo博客（Windows篇）/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-小谈Android系统文件目录" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/小谈Android系统文件目录/" class="article-date">
  <time datetime="2017-01-11T10:45:09.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/小谈Android系统文件目录/">小谈Android系统文件目录</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>从高三第一次用安卓手机开始，笔者便走上了刷机的不归路。其实今天谈的东西呢，主要是一些基础知识，也就是笔者刷机阶段所学到的一些东西。<br>Android基于Linux系统开发，大多数系统目录和Linux也差不多，但是还是有些不一样的。从一个其他系统包移植到官方包，我们最开始操作的是两个文件，也就是第三方包和官方包的<code>system.img</code>和<code>boot.img</code>，从名字可知，system是系统，boot就是内核还有一些底层的东西。</p>
<h1 id="解包system"><a href="#解包system" class="headerlink" title="解包system"></a>解包system</h1><p>使用cygwin解包system，得到的就是下面的目录：<br><img src="http://img.blog.csdn.net/20161221233747793?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>其中<code>META-INF</code>是脚本，系统在更新（刷机）时候执行的就是这里面的脚本文件，当然打包前后的语法是不同的。system文件夹自然是解包的system文件，具体结构如下：<br><img src="http://img.blog.csdn.net/20161221233815059?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>下面再来一张Android手机root之后的系统文件目录：<br><img src="http://img.blog.csdn.net/20161221234124657?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><img src="http://img.blog.csdn.net/20161221234157345?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>可以看到这两个目录基本一模一样。<br>其中的app和priv-app存放的都是系统程序的apk文件，同理如果要把一个软件安装成系统文件，直接扔到这个目录下重启就行了（不同版本不同）。<br><code>bin</code>存放的是常用的系统本地命令（二进制），大部分是<code>toolbox</code>的链接（类似于嵌入式Linux中的<code>busybox</code>）。<br><code>etc</code>存放系统配置文件，如hosts。framework，Java平台架构核心库，jar包和odex优化的文件，我更愿意叫它框架，Android2.3的状态栏图标就是要在这个文件夹下的<code>framework-res.apk</code>文件中修改。<br><code>font</code>，字体。<br><code>lib</code>，系统底层共享库，.so库文件。<br><code>media</code>，系统音频文件（比如照相机声音）以及开机动画。<br><code>xbin</code>，不常用的系统管理工具，相当于linux的<code>/sbin</code>。usr，存放用户配置文件。</p>
<h1 id="data目录"><a href="#data目录" class="headerlink" title="data目录"></a>data目录</h1><p>对于Android开发人员来说，使用最多的当然是<code>data</code>目录。<code>data</code>存放的是数据，系统软件、个人软件的数据都存放在这里<br>。<br><img src="http://img.blog.csdn.net/20161221234351354?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><img src="http://img.blog.csdn.net/20161221234422082?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>较为重要的目录是app和data。</p>
<h2 id="data-app"><a href="#data-app" class="headerlink" title="data/app"></a>data/app</h2><p><code>data/app</code>同<code>system/app</code>一样，只不过存放的是个人软件的apk安装包（注：高版本的Android系统下<code>data/app</code>目录里面按照软件建立了很多文件加，里面便是对应apk文件）。</p>
<h2 id="data-data"><a href="#data-data" class="headerlink" title="data/data"></a>data/data</h2><p><code>data/data</code>存放的是数据信息，里面按照包名建立了很多文件夹，分别是对应软件的数据目录，数据库，文件，缓存，配置文件之类的。<br><img src="http://img.blog.csdn.net/20161221234509964?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvTXlzdGVyeTA=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt=""><br>Android文件操作的<code>Context.getFilesDir()</code>，<code>Context.openFileOutput()</code>获取的目录便是<code>data/data/&lt;包名&gt;/files</code>目录，此外还有cache目录（<code>Context.getCacheDir()</code>），shared_pref目录（<code>Context.getSharedPreferences()</code> 建立的preferences文件（xml）存放目录）。</p>
<h1 id="sd卡下Android目录"><a href="#sd卡下Android目录" class="headerlink" title="sd卡下Android目录"></a>sd卡下Android目录</h1><p>在sd卡的根目录下也有一个Android文件夹，这也是比较重要的。也许你偶尔会发现自己缓存的视频就存放在这个文件下。里面分为data和obb文件夹，data是运行时产生的数据存放位置，obb一般是数据包（比如大型游戏的数据包）存放位置。data下又是按照包名区分的，里面也有files和cache文件夹，同<code>data/data</code>，但是代码访问时是通过<code>Context.getExternalFilesDir()</code>和<code>Context.getExternalCacheDir()</code>访问的。<br>这些知识呢算是基础，应该自己去学习的，搞Android开发的偶尔玩玩手机也是不错的，不然写一个数据库结果连存放在哪里都不知道。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/01/11/小谈Android系统文件目录/" data-id="cizl4kwvr000i44nt056rsndg" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/01/11/小谈Android系统文件目录/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-Android studio与github的使用（多人开发源码同步问题）" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/Android studio与github的使用（多人开发源码同步问题）/" class="article-date">
  <time datetime="2017-01-11T10:45:01.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/Android/">Android</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/Android studio与github的使用（多人开发源码同步问题）/">Android studio与github的使用（多人开发源码同步问题）</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>之前和朋友一起写一个Android APP，代码不算难，只是要我们一起写，这就出了一些代码合并上以及同步的问题。<br>今天讲的主要是GitHub上分支保持与主干源码同步的问题。</p>
<p>之前使用的时候就是项目挂在笔者的GitHub上，别人修改的代码提交一个pull request就能够合并到主分支中，但是一直没解决的问题是主分支代码更新了，但是别人的fork的仓库却并没有更新，这个问题课难倒了我们，弄了几次都没成功，后来就一直删除仓库，重新fork来保证代码的更新。</p>
<p>现在，这个问题终于解决了。<br>我来简单写一下解决步骤：</p>
<h4 id="1-下载git客户端"><a href="#1-下载git客户端" class="headerlink" title="1.下载git客户端"></a>1.下载git客户端</h4><p>相信如果要用Android studio的提交，应该都下载了<code>git</code>并且配置完毕。</p>
<h4 id="2-启动命令行"><a href="#2-启动命令行" class="headerlink" title="2.启动命令行"></a>2.启动命令行</h4><p>打开项目文件夹根目录，右键<code>git bash here</code>，打开git命令行。</p>
<h4 id="3-查看仓库地址"><a href="#3-查看仓库地址" class="headerlink" title="3.查看仓库地址"></a>3.查看仓库地址</h4><p>输入</p>
<pre><code>git remote -v
</code></pre><p>查看项目的仓库地址，一般来说都是如下图的样子：<br><img src="http://img.blog.csdn.net/20161116183229639?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<h4 id="4-添加远程仓库"><a href="#4-添加远程仓库" class="headerlink" title="4.添加远程仓库"></a>4.添加远程仓库</h4><p>输入以下指令添加远程仓库：</p>
<pre><code>git remote add upstream https://github.com/test/xxxxx.git
</code></pre><p>其中<code>upstream</code>是远程仓库的名称(可更改),后面跟的是远程仓库的http地址,如下图:<br><img src="http://img.blog.csdn.net/20161116183459727?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt=""></p>
<h4 id="5-检测更新"><a href="#5-检测更新" class="headerlink" title="5.检测更新"></a>5.检测更新</h4><p>完成上面的步骤之后你就可以开始和朋友进行开发了,你<code>fork</code>了他的源码,当他更新的时候,你只需要在这个文件夹里打开git命令行,输入</p>
<pre><code>git fetch upstream
</code></pre><p>它会检测远程仓库的所有分支的更新情况</p>
<h4 id="6-切换到主分支"><a href="#6-切换到主分支" class="headerlink" title="6.切换到主分支"></a>6.切换到主分支</h4><pre><code>git checkout master
</code></pre><p>继续执行以下代码:</p>
<pre><code>git merge upstream/master
</code></pre><p>这样你就把他更新的代码合并到本地了.</p>
<h4 id="7-更新"><a href="#7-更新" class="headerlink" title="7.更新"></a>7.更新</h4><p>这个时候进入Android studio你会发现文件更新了,然后执行<code>push</code>,就能把新的代码提交到你的仓库中了.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/01/11/Android studio与github的使用（多人开发源码同步问题）/" data-id="cizl4kwun000044ntqrl43gbn" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/01/11/Android studio与github的使用（多人开发源码同步问题）/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-C++ 数据结构（四）——二叉树" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/C++ 数据结构（四）——二叉树/" class="article-date">
  <time datetime="2017-01-11T10:44:04.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/C++ 数据结构（四）——二叉树/">C++ 数据结构（四）——二叉树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;  </div><div class="line"><span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt;  </div><div class="line"><span class="keyword">struct</span> BiNode  </div><div class="line">&#123;  </div><div class="line">    T data;  </div><div class="line">    BiNode&lt;T&gt; *lchild;<span class="comment">//当前结点的左子树  </span></div><div class="line">    BiNode&lt;T&gt; *rchild;<span class="comment">//当前结点的右子树  </span></div><div class="line">&#125;;  </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;  </div><div class="line"><span class="keyword">class</span> BiTree  </div><div class="line">&#123;  </div><div class="line"><span class="keyword">public</span>:  </div><div class="line">    BiTree()  </div><div class="line">    &#123;  </div><div class="line">        root = Create(root);<span class="comment">//构造函数调用create方法  </span></div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    ~BiTree()  </div><div class="line">    &#123;  </div><div class="line">        Delete(root);  </div><div class="line">    &#125;  </div><div class="line">    <span class="comment">//为了防止直接访问到根节点，所以采用重载来遍历操作  </span></div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PreOrder</span><span class="params">()</span><span class="comment">//前序  </span></span></div><div class="line">    &#123;  </div><div class="line">        PreOrder(root);  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">InOrder</span><span class="params">()</span><span class="comment">//中序  </span></span></div><div class="line">    &#123;  </div><div class="line">        InOrder(root);  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PostOrder</span><span class="params">()</span><span class="comment">//后序  </span></span></div><div class="line">    &#123;  </div><div class="line">        PostOrder(root);  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">LevelOrder</span><span class="params">()</span><span class="comment">//层序遍历  </span></span></div><div class="line">    &#123;  </div><div class="line">        BiNode&lt;T&gt; **data = <span class="keyword">new</span> BiNode&lt;T&gt;*[GetCount(root)];<span class="comment">//通过GetCount方法获取  </span></div><div class="line">        <span class="keyword">int</span> front, rear;  </div><div class="line">        front = rear = <span class="number">-1</span>;  </div><div class="line">        <span class="keyword">if</span> (root)  </div><div class="line">        &#123;  </div><div class="line">            data[++rear] = root;<span class="comment">//根节点入队  </span></div><div class="line">            <span class="keyword">while</span> (front!=rear)  </div><div class="line">            &#123;  </div><div class="line">                BiNode&lt;T&gt; *temp = data[++front];<span class="comment">//出队输出  </span></div><div class="line">                <span class="built_in">cout</span> &lt;&lt; temp-&gt;data &lt;&lt; <span class="string">" "</span>;  </div><div class="line">                <span class="keyword">if</span> (temp-&gt;lchild)  </div><div class="line">                    data[++rear] = temp-&gt;lchild;<span class="comment">//将左子树入队  </span></div><div class="line">                <span class="keyword">if</span> (temp-&gt;rchild)  </div><div class="line">                    data[++rear] = temp-&gt;rchild;<span class="comment">//将右子树入队  </span></div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line"><span class="keyword">private</span>:  </div><div class="line">    BiNode&lt;T&gt; *root;<span class="comment">//根节点  </span></div><div class="line">    BiNode&lt;T&gt; *Create(BiNode&lt;T&gt; *bt)  </div><div class="line">    &#123;  </div><div class="line">        T data;  </div><div class="line">        <span class="built_in">cin</span> &gt;&gt; data;  </div><div class="line">        <span class="keyword">if</span>(data==<span class="string">'#'</span>)<span class="comment">//利用‘#’判断结点是否为空  </span></div><div class="line">            <span class="comment">//由于这里使用的是‘#’用于表示空，所以使用该二叉树时，数据类型必须为char  </span></div><div class="line">            bt=<span class="literal">NULL</span>;  </div><div class="line">        <span class="keyword">else</span>  </div><div class="line">        &#123;  </div><div class="line">            <span class="comment">//采用前序遍历输入结点  </span></div><div class="line">            bt = <span class="keyword">new</span> BiNode&lt;T&gt;;  </div><div class="line">            bt-&gt;data = data;  </div><div class="line">            bt-&gt;lchild = Create(bt-&gt;lchild);  </div><div class="line">            bt-&gt;rchild = Create(bt-&gt;rchild);  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> bt;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Delete</span><span class="params">(BiNode&lt;T&gt; *bt)</span><span class="comment">////后序遍历释放结点空间  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (bt)  </div><div class="line">        &#123;  </div><div class="line">            Delete(bt-&gt;lchild);  </div><div class="line">            Delete(bt-&gt;rchild);  </div><div class="line">            <span class="keyword">delete</span> bt;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">int</span> <span class="title">GetCount</span><span class="params">(BiNode&lt;T&gt; *bt)</span><span class="comment">//通过先序遍历获取元素数目，用于层序遍历时动态申请数组空间  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">int</span> count=<span class="number">0</span>;  </div><div class="line">        <span class="keyword">if</span> (bt)  </div><div class="line">        &#123;  </div><div class="line">            count++;  </div><div class="line">            count+=GetCount(bt-&gt;lchild);  </div><div class="line">            count+=GetCount(bt-&gt;rchild);  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> count;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PreOrder</span><span class="params">(BiNode&lt;T&gt; *bt)</span><span class="comment">//前序遍历输出  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (bt)  </div><div class="line">        &#123;  </div><div class="line">            <span class="built_in">cout</span> &lt;&lt; bt-&gt;data &lt;&lt; <span class="string">" "</span>;  </div><div class="line">            PreOrder(bt-&gt;lchild);  </div><div class="line">            PreOrder(bt-&gt;rchild);  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">InOrder</span><span class="params">(BiNode&lt;T&gt; *bt)</span><span class="comment">//中序遍历输出  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (bt)  </div><div class="line">        &#123;  </div><div class="line">            InOrder(bt-&gt;lchild);  </div><div class="line">            <span class="built_in">cout</span> &lt;&lt; bt-&gt;data &lt;&lt; <span class="string">" "</span>;  </div><div class="line">            InOrder(bt-&gt;rchild);  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PostOrder</span><span class="params">(BiNode&lt;T&gt; *bt)</span><span class="comment">//后序遍历输出  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (bt)  </div><div class="line">        &#123;  </div><div class="line">            PostOrder(bt-&gt;lchild);  </div><div class="line">            PostOrder(bt-&gt;rchild);  </div><div class="line">            <span class="built_in">cout</span> &lt;&lt; bt-&gt;data &lt;&lt; <span class="string">" "</span>;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>重要的点我都已经写在注释里了，二叉树主要是理解了，剩下的实现并不难。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/01/11/C++ 数据结构（四）——二叉树/" data-id="cizl4kwv8000644ntt7kv3u4p" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/01/11/C++ 数据结构（四）——二叉树/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-C++ 数据结构（三）——队列" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/01/11/C++ 数据结构（三）——队列/" class="article-date">
  <time datetime="2017-01-11T10:44:03.000Z" itemprop="datePublished">2017-01-11</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/C/">C++</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/01/11/C++ 数据结构（三）——队列/">C++ 数据结构（三）——队列</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="LinearStack-h"><a href="#LinearStack-h" class="headerlink" title="LinearStack.h"></a>LinearStack.h</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;  </div><div class="line"><span class="keyword">class</span> LinearQueue<span class="comment">//顺序队列  </span></div><div class="line">&#123;  </div><div class="line"><span class="keyword">private</span>:  </div><div class="line">    <span class="keyword">int</span> size;  </div><div class="line">    <span class="keyword">int</span> front;<span class="comment">//开始的位置  </span></div><div class="line">    <span class="keyword">int</span> rear;<span class="comment">//结束的位置  </span></div><div class="line">    T *data;  </div><div class="line"><span class="keyword">public</span>:  </div><div class="line">    LinearQueue(<span class="keyword">int</span> size)  </div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">this</span>-&gt;size = size+<span class="number">1</span>;  </div><div class="line">        <span class="keyword">this</span>-&gt;front = <span class="number">0</span>;  </div><div class="line">        <span class="keyword">this</span>-&gt;rear = <span class="number">1</span>;  </div><div class="line">        data = <span class="keyword">new</span> T[<span class="keyword">this</span>-&gt;size];<span class="comment">//动态申请空间，浪费一个空间用来判断是否队满  </span></div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    ~LinearQueue()  </div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">delete</span>[] data;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Creat</span><span class="params">(T newData[], <span class="keyword">int</span> length)</span><span class="comment">//批量创建  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (length &gt; size || length &lt;= <span class="number">0</span>)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::exception(<span class="string">"Length error!!!!"</span>);  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">this</span>-&gt;rear = length;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)  </div><div class="line">        &#123;  </div><div class="line">            data[i] = newData[i];  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">EnQueue</span><span class="params">(T newData)</span><span class="comment">//入队，队尾操作  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (isFull())  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::exception(<span class="string">"Over Up!!!"</span>);  </div><div class="line">            <span class="keyword">return</span>;  </div><div class="line">        &#125;  </div><div class="line">        data[rear] = newData;  </div><div class="line">        rear = (rear + <span class="number">1</span>) % size;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function">T <span class="title">DeQueue</span><span class="params">()</span><span class="comment">//出队，队头操作  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (isEmpty())  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::exception(<span class="string">"Over Bottom!!!"</span>);  </div><div class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;  </div><div class="line">        &#125;  </div><div class="line">        T temp = data[front];  </div><div class="line">        front = (front + <span class="number">1</span>) % size;  </div><div class="line">        <span class="keyword">return</span> temp;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isFull</span><span class="params">()</span><span class="comment">//判断是否为满  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> ((rear + <span class="number">1</span>) % size == front)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span><span class="comment">//判断是否为空  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> ((front + <span class="number">1</span>) % size == rear)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="function">T <span class="title">GetTop</span><span class="params">()</span><span class="comment">//获取队头元素  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (isEmpty())  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::exception(<span class="string">"Over Bottom!!!"</span>);  </div><div class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> data[rear - <span class="number">1</span>];  </div><div class="line">    &#125;  </div><div class="line">  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PrintList</span><span class="params">()</span><span class="comment">//输出整张表  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">int</span> length;  </div><div class="line">        <span class="keyword">if</span> (front &gt; rear)  </div><div class="line">        &#123;  </div><div class="line">            length = rear + size - front;  </div><div class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"size="</span> &lt;&lt; size<span class="number">-1</span> &lt;&lt; <span class="string">" length="</span> &lt;&lt; length &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = front; i &lt; size; i++)  </div><div class="line">            &#123;  </div><div class="line">                <span class="built_in">cout</span> &lt;&lt; data[i] &lt;&lt; <span class="string">" "</span>;  </div><div class="line">            &#125;  </div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rear; i++)  </div><div class="line">            &#123;  </div><div class="line">                <span class="built_in">cout</span> &lt;&lt; data[i] &lt;&lt; <span class="string">" "</span>;  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">else</span>  </div><div class="line">        &#123;  </div><div class="line">            length = rear - front;  </div><div class="line">            <span class="built_in">cout</span> &lt;&lt; <span class="string">"size="</span> &lt;&lt; size<span class="number">-1</span> &lt;&lt; <span class="string">" length="</span> &lt;&lt; length &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = front; i &lt; rear; i++)  </div><div class="line">            &#123;  </div><div class="line">                <span class="built_in">cout</span> &lt;&lt; data[i] &lt;&lt; <span class="string">" "</span>;  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">    &#125;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<h3 id="NodeStack-h"><a href="#NodeStack-h" class="headerlink" title="NodeStack.h"></a>NodeStack.h</h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;  </div><div class="line"><span class="keyword">struct</span> Node_Queue<span class="comment">//结点  </span></div><div class="line">&#123;  </div><div class="line">    T data;  </div><div class="line">    Node_Queue *next;  </div><div class="line">&#125;;  </div><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;  </div><div class="line"><span class="keyword">class</span> NodeQueue  </div><div class="line">&#123;  </div><div class="line"><span class="keyword">private</span>:  </div><div class="line">    Node_Queue&lt;T&gt; *front;<span class="comment">//队头指针  </span></div><div class="line">    Node_Queue&lt;T&gt; *rear;<span class="comment">//队尾指针  </span></div><div class="line">    <span class="keyword">int</span> length;<span class="comment">//长度  </span></div><div class="line"><span class="keyword">public</span>:  </div><div class="line">    NodeQueue()  </div><div class="line">    &#123;  </div><div class="line">        Node_Queue&lt;T&gt; *n = <span class="keyword">new</span> Node_Queue&lt;T&gt;;  </div><div class="line">        n-&gt;next = <span class="literal">NULL</span>;  </div><div class="line">        front = rear = n;  </div><div class="line">        length = <span class="number">0</span>;  </div><div class="line">    &#125;  </div><div class="line">    ~NodeQueue()  </div><div class="line">    &#123;  </div><div class="line">        Node_Queue&lt;T&gt; *temp;  </div><div class="line">        <span class="keyword">while</span> (front-&gt;next-&gt;next != <span class="literal">NULL</span>)  </div><div class="line">        &#123;  </div><div class="line">            temp = front-&gt;next;  </div><div class="line">            <span class="keyword">delete</span> front;  </div><div class="line">            front = temp;  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Creat</span><span class="params">(T *newData,<span class="keyword">int</span> length)</span><span class="comment">//批量创建，多次调用入队方法  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; length; i++)  </div><div class="line">        &#123;  </div><div class="line">            EnQueue(newData[i]);  </div><div class="line">        &#125;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">EnQueue</span><span class="params">(T newData)</span><span class="comment">//入队  </span></span></div><div class="line">    &#123;  </div><div class="line">        Node_Queue&lt;T&gt; *temp = <span class="keyword">new</span> Node_Queue&lt;T&gt;;  </div><div class="line">        temp-&gt;data = newData;  </div><div class="line">        temp-&gt;next = <span class="literal">NULL</span>;  </div><div class="line">        rear-&gt;next = temp;  </div><div class="line">        rear = temp;  </div><div class="line">        length++;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function">T <span class="title">DeQueue</span><span class="params">()</span><span class="comment">//出队  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (front-&gt;next-&gt;next == <span class="literal">NULL</span>)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::exception(<span class="string">"Over Bottom!!!"</span>);  </div><div class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;  </div><div class="line">        &#125;  </div><div class="line">        Node_Queue&lt;T&gt; *temp = front-&gt;next;  </div><div class="line">        front-&gt;next = temp-&gt;next;  </div><div class="line">        length--;  </div><div class="line">        T t = temp-&gt;data;  </div><div class="line">        <span class="keyword">delete</span> temp;  </div><div class="line">        <span class="keyword">return</span> t;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function">T <span class="title">GetTop</span><span class="params">()</span><span class="comment">//获取栈顶元素  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (isEmpty())  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">throw</span> <span class="built_in">std</span>::exception(<span class="string">"Over Bottom!!!"</span>);  </div><div class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> front-&gt;next-&gt;data;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">bool</span> <span class="title">isEmpty</span><span class="params">()</span><span class="comment">//判断是否为空  </span></span></div><div class="line">    &#123;  </div><div class="line">        <span class="keyword">if</span> (front-&gt;next == rear)  </div><div class="line">        &#123;  </div><div class="line">            <span class="keyword">return</span> <span class="literal">true</span>;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> <span class="literal">false</span>;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">void</span> <span class="title">PrintList</span><span class="params">()</span><span class="comment">//输出  </span></span></div><div class="line">    &#123;  </div><div class="line">        Node_Queue&lt;T&gt; *temp=front-&gt;next;  </div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"size="</span> &lt;&lt; length &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">        <span class="keyword">while</span> (temp != <span class="literal">NULL</span>)  </div><div class="line">        &#123;  </div><div class="line">            <span class="built_in">cout</span> &lt;&lt; temp-&gt;data &lt;&lt; <span class="string">" "</span>;  </div><div class="line">            temp = temp-&gt;next;  </div><div class="line">        &#125;  </div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="built_in">endl</span>;  </div><div class="line">    &#125;  </div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<p>队列的特点是在一端进行插入操作，另一端进行输出操作，因此使用两个int值（或指针）来表示队头和队尾。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://imystery0.cn/2017/01/11/C++ 数据结构（三）——队列/" data-id="cizl4kwv6000544ntreac9izu" class="article-share-link">Share</a>
      
        <a href="http://imystery0.cn/2017/01/11/C++ 数据结构（三）——队列/#disqus_thread" class="article-comment-link">留言</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">分类</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android/">Android</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/C/">C++</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Linux-路由器/">Linux 路由器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/Ubuntu/">Ubuntu</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/博客/">博客</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/系统/">系统</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">二月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">一月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2017/02/25/WebView搭配Material Design新控件使用/">WebView搭配Material Design新控件使用</a>
          </li>
        
          <li>
            <a href="/2017/02/24/解决SnackBar无动画现象/">解决SnackBar无动画现象</a>
          </li>
        
          <li>
            <a href="/2017/02/18/斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑/">斐讯K2 A6版 V22.4.6.3 路由器刷机踩坑</a>
          </li>
        
          <li>
            <a href="/2017/02/09/Mojo 框架基本使用（perl语言）/">Mojo 框架基本使用（perl语言）</a>
          </li>
        
          <li>
            <a href="/2017/01/12/Ubuntu使用Shadowsocks-qt5科学上网/">Ubuntu使用Shadowsocks-qt5科学上网</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2017 Mystery0 M<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'mystery0';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>